24 bit aer decoder created
fuction generator to test the aer is created and saved in the common folder
fifo created to store before being sent to decoder

# pipeline needs to be created for the fifo and the decoder
#error faced in the fifo full state and delay related

#button interface progress:
system state machine:
 SYS_IDLE
 SYS_TRAINING
 SYS_TRAIN_PROCESS
 SYS_READY
 SYS_COMMAND_ACTIVE

internal state machine:
 WAIT
 RECORD
 PROCESS

#add led reaction
LED Patterns for User Guidance:
IDLE: LED off
RECORDING: Slow blink (once per button press)
COLLECTED_EXAMPLE: Quick blink (acknowledge)
PROGRESS: 
After 5 examples: counter blink
After 10 examples: counter blink
All 15 collected: Fast blinking (processing)
TRAINING_COMPLETE: Solid on
READY: Solid on

https://chat.deepseek.com/share/vymvrddjfsrnobhlyh

#VAD + Gating with Circular Buffer

Memory Address: [0][1][2][3][4][5][6][7]...[N-1]
                    ^                       ^
                    |                       |
                Write Pointer          Read Pointer




                    [IDLE]
                       |
                 VAD = 1?
                       |
                    [PRE-TRIGGER]
                       |
                Hangover Timer?
                       |
              +--------+--------+
              |                 |
         VAD = 1?           VAD = 0?
              |                 |
         [RECORDING] <---- [HANGOVER]
              |                 |
              +-----------------+
                       |
                 Timer Expired?
                       |
                    [DONE]
                       |
              Send audio for processing
                       |
                       v
                    [IDLE]



                    ┌─────────────────┐
Audio In ─────┬────>│ Circular Buffer │<──── Always Writing
              │     │    (500ms)       │
              │     └────────┬────────┘
              │              │
              │     ┌────────▼────────┐
              └────>│      VAD         │
                    │ (Energy + ZCR)   │
                    └────────┬────────┘
                             │ VAD Flag
                    ┌────────▼────────┐
                    │  State Machine  │
                    │ (IDLE/TRIG/REC/ │
                    │  HANG/DONE)     │
                    └────────┬────────┘
                             │ Control
                    ┌────────▼────────┐
                    │ Output FIFO     │────> To Processing
                    │ (Full Utterance)│
                    └─────────────────┘


audio_in → [Square] → [Accumulate 10ms] → short_term_energy
                                              |
                                              ↓
                                    [Low-pass Filter] 
                                              | α=0.95
                                              ↓
                                    smoothed_energy
                                              |
                    ┌─────────────────────────┴─────────────────────────┐
                    ↓                         ↓                          ↓
            [Compare to               [Hysteresis                 [Hangover
             Threshold]                 Logic]                      Timer]
                    ↓                         ↓                          ↓
              vad_raw ───────────→ speech_detected ───────────→ recording_active
